{
  // See https://go.microsoft.com/fwlink/?LinkId=733558
  // for the documentation about the tasks.json format
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Build P1",
      "command": "script/build-p1.sh",
      "group": "build",
      "presentation": {
        "panel": "shared",
        "focus": true,
        "clear": false
      },
      "problemMatcher": "$gcc"
    },
    {
      "label": "Build Photon",
      "command": "script/build-photon.sh",
      "group": "build",
      "presentation": {
        "panel": "shared",
        "focus": true,
        "clear": false
      },
      "problemMatcher": "$gcc"
    },
    {
      "label": "Build GCC",
      "command": "script/build-gcc.sh",
      "group": "build",
      "presentation": {
        "panel": "shared",
        "focus": true,
        "clear": false
      },
      "problemMatcher": "$gcc"
    },
    {
      "label": "Build ESP",
      "command": "script/build-esp.sh",
      "group": "build",
      "presentation": {
        "panel": "shared",
        "focus": true,
        "clear": false
      },
      "problemMatcher": "$gcc"
    },
    {
      "label": "Test brewblox-particle",
      "command": "script/test-brewblox-particle.sh",
      "group": "build",
      "presentation": {
        "panel": "shared",
        "focus": true,
        "clear": false
      },
      "problemMatcher": "$gcc"
    },
    {
      "label": "Test brewblox-esp",
      "command": "script/test-brewblox-esp.sh",
      "group": "build",
      "presentation": {
        "panel": "shared",
        "focus": true,
        "clear": false
      },
      "problemMatcher": "$gcc"
    },
    {
      "label": "Test cbox",
      "command": "script/test-cbox.sh",
      "group": "build",
      "presentation": {
        "panel": "shared",
        "focus": true,
        "clear": false
      },
      "problemMatcher": "$gcc"
    },
    {
      "label": "Test control",
      "command": "script/test-control.sh",
      "group": "build",
      "presentation": {
        "panel": "shared",
        "focus": true,
        "clear": false
      },
      "problemMatcher": "$gcc"
    },
    {
      "label": "Test all",
      "group": "build",
      "dependsOrder": "sequence",
      "dependsOn": [
        "Test brewblox-particle",
        // "Test brewblox-esp", Tests are broken, ignoring for now
        "Test cbox",
        "Test control",
      ]
    },
    {
      "label": "Trigger DFU",
      "command": "script/trigger-dfu.py",
      "group": "build",
      "presentation": {
        "panel": "shared",
        "focus": true,
        "clear": false
      }
    },
    {
      "label": "Flash P1",
      "command": "script/flash-p1.sh",
      "group": "build",
      "presentation": {
        "panel": "shared",
        "focus": true,
        "clear": false
      },
      "problemMatcher": "$gcc",
      "dependsOn": [
        "Trigger DFU"
      ]
    },
    {
      "label": "Flash P1 SWD",
      "command": "script/flash-p1-swd.sh",
      "group": "build",
      "presentation": {
        "panel": "shared",
        "focus": true,
        "clear": false
      },
      "problemMatcher": "$gcc",
      "dependsOn": [
        "Trigger DFU"
      ]
    },
    {
      "label": "Flash Photon",
      "command": "script/flash-photon.sh",
      "group": "build",
      "presentation": {
        "panel": "shared",
        "focus": true,
        "clear": false
      },
      "problemMatcher": "$gcc",
      "dependsOn": [
        "Trigger DFU"
      ]
    },
    {
      "label": "Flash ESP",
      "command": "script/flash-esp.sh",
      "group": "build",
      "presentation": {
        "panel": "shared",
        "focus": true,
        "clear": false
      },
      "problemMatcher": "$gcc"
    },
    {
      "label": "Run simulator",
      "command": "script/run-simulator.sh",
      "group": "build",
      "presentation": {
        "panel": "dedicated",
        "focus": true,
        "clear": false
      }
    },
    {
      "label": "Compile proto",
      "command": "script/compile-proto.sh",
      "group": "build",
      "presentation": {
        "panel": "shared",
        "focus": true,
        "clear": false
      }
    },
    {
      "label": "Clean all",
      "command": "script/clean-all.sh",
      "group": "build",
      "presentation": {
        "panel": "shared",
        "focus": true,
        "clear": false
      },
      "problemMatcher": "$gcc"
    }
  ]
}
